/* ===================== Base & Theme ===================== */
:root{
  --ink:#0f172a; --muted:#64748b; --card:#ffffff;
  --brand:#4f46e5; --brand-2:#22d3ee; --ok:#10b981; --danger:#ef4444; --ring:#dbeafe;
  --bg:#0b1020; --glass:rgba(255,255,255,.90); --border:rgba(255,255,255,.7);
  --tile:#f8fafc; --tile-border:#eef2f7; --ink-soft:#e2e8f0;
}
:root[data-theme="light"]{
  --bg:#eef2ff;
  --glass:#fffffff2;
  --border:#e5e7eb;
  --tile:#ffffff;
  --tile-border:#e5e7eb;
  --ink:#0f172a; --ink-soft:#0f172a;
}

*{box-sizing:border-box}
html,body{height:100%}
html{-webkit-text-size-adjust:100%}      /* Safari: prevent auto-zooming text */
body{
  margin:0;
  font-family:"Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  color:var(--ink);
  background:var(--bg);
  overflow-x:hidden;
}

/* ===================== Background ===================== */
.bg-aurora{
  position:fixed; inset:0;
  background:
    radial-gradient(800px 400px at 10% 20%, rgba(79,70,229,.25), transparent 60%),
    radial-gradient(700px 600px at 90% 10%, rgba(34,211,238,.22), transparent 55%),
    radial-gradient(600px 600px at 50% 100%, rgba(16,185,129,.2), transparent 55%),
    linear-gradient(180deg, var(--bg) 0%, #0a0f1a 100%);
  filter: blur(2px) saturate(120%);
  z-index:-1;
  animation: float 18s ease-in-out infinite alternate;
}
@keyframes float { from{transform:translateY(-8px)} to{transform:translateY(8px)} }

/* ===================== Layout ===================== */
.shell{
  width:100%;
  display:flex; flex-direction:column; align-items:center;
  padding:36px 0 28px;
}
.topbar, .card{ width:min(1000px, 94%) }

/* ===================== Topbar ===================== */
.topbar{display:flex; align-items:center; justify-content:space-between; margin-bottom:18px}
.brand{display:flex; align-items:center; gap:12px}
.logo{font-size:28px}
h1{
  margin:0;
  font-weight:700;
  font-size:clamp(22px,3.5vw,44px);
  letter-spacing:.3px;
  background:linear-gradient(92deg,#fff 0%, #c7d2fe 38%, #22d3ee 100%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow:0 2px 14px rgba(88,138,255,.28);
}
.right-tools{display:flex; align-items:center; gap:10px}

/* ===================== Card ===================== */
.card{
  background:var(--glass); backdrop-filter: blur(12px);
  border:1px solid var(--border); border-radius:24px;
  padding:22px 22px 18px;
  box-shadow:
    0 30px 80px rgba(2,6,23,.40),
    0 8px 20px rgba(2,6,23,.25) inset;
  position:relative; overflow:hidden;
}
.card::after{
  content:"";
  position:absolute; inset:auto -20% -40% -20%;
  height:220px;
  background:radial-gradient(600px 140px at 50% 0%, rgba(79,70,229,.25), transparent 60%);
  pointer-events:none;
}
.subtitle{ margin:2px 2px 14px; color:var(--muted) }

/* ===================== Buttons ===================== */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  border:none; cursor:pointer; border-radius:999px;
  padding:10px 14px; font-weight:600; letter-spacing:.2px;
  transition: transform .05s ease, box-shadow .15s ease, background .15s ease;
}
.btn:active{ transform: translateY(1px) }
.btn-primary{
  color:#fff; background:linear-gradient(135deg, var(--brand), var(--brand-2));
  box-shadow:0 10px 20px rgba(79,70,229,.35);
}
.btn-primary:hover{ box-shadow:0 14px 26px rgba(79,70,229,.45) }
.btn-ghost{ background:#e2e8f0; color:#0f172a }
.btn-ghost:hover{ background:#cbd5e1 }

/* ===================== Form ===================== */
.task-form{ display:flex; gap:10px; align-items:center; margin-bottom:12px }
.input-wrap{ position:relative; flex:1 }
.input-icon{ position:absolute; left:12px; top:50%; transform:translateY(-50%); font-size:18px; opacity:.75 }
.task-form input{
  width:100%; padding:14px 16px 14px 46px;
  border-radius:999px; border:1px solid #e5e7eb;
  font-size:16px; background:#fff; outline:none;
}
.task-form input:focus{ box-shadow:0 0 0 5px var(--ring) }
.task-form input[disabled], .task-form button[disabled]{ opacity:.55; cursor:not-allowed }

/* ===================== Filters / Status ===================== */
.controls{display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap; margin-bottom:6px}
.filters{display:flex; gap:8px}
.chip{
  border:1px solid #e5e7eb; background:#fff; padding:8px 14px; border-radius:999px; cursor:pointer; font-weight:600;
  transition:transform .05s ease, background .15s ease;
}
.chip:hover{ transform:translateY(-1px); background:#f8fafc }
.chip-active{ border-color: var(--ring); background:#eef2ff }

/* ===================== List ===================== */
.task-list{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:10px }
.task{
  display:flex; align-items:center; justify-content:space-between;
  background:var(--tile); border:1px solid var(--tile-border); border-radius:14px; padding:10px 12px;
  transition: transform .05s ease, background .2s ease;
}
.task:hover{ transform: translateY(-1px); background:#ffffff }
.left{ display:flex; align-items:center; gap:12px; flex:1; min-width:0 }
.checkbox{
  width:22px; height:22px; border-radius:8px; border:2px solid #cbd5e1; background:#fff;
  display:inline-grid; place-items:center; cursor:pointer; transition:border .15s ease, background .15s ease
}
.checkbox input{ display:none }
.checkbox .dot{ width:12px; height:12px; border-radius:4px; background:transparent; transition: all .15s ease; transform:scale(.9) }
.task.done .checkbox{ border-color: var(--ok); background:#ecfdf5 }
.task.done .checkbox .dot{ background: var(--ok); transform:scale(1) }
.text{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; font-weight:500 }
.task.done .text{ color:#6b7280; text-decoration:line-through }

.actions{ display:flex; align-items:center; gap:8px }
.btn.delete{ background:#fff; color:var(--danger); border:1px solid #fee2e2; padding:8px 12px }
.btn.delete:hover{ background:#ffe4e6 }

/* ===================== Meta & Footer ===================== */
.status{ color:var(--muted); margin:6px 2px 12px }
.meta{ display:flex; justify-content:space-between; color:var(--muted); font-size:14px; margin-top:12px; font-weight:600 }
.footer{ color:#cbd5e1; text-align:center; margin-top:16px }

/* ===================== Responsive ===================== */
@media (max-width:640px){
  .task-form{ flex-direction:column; align-items:stretch }
  .btn{ width:100% }
}
@media (min-width:1100px){
  .subtitle{ font-size:18px }
}
